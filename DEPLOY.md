# Инструкция по деплою

В этом документе описаны шаги для развертывания приложения Image Compressor.

## Деплой на GitHub Pages

Приложение настроено для автоматического деплоя на GitHub Pages.

### Предварительные требования

1. Учетная запись GitHub с доступом к репозиторию
2. Node.js и npm установлены локально
3. Git установлен локально

### Шаги для деплоя

1. Клонируйте репозиторий, если вы еще этого не сделали:
```bash
git clone https://github.com/1x5/compress.1x5code.ru.git
cd compress.1x5code.ru
```

2. Установите зависимости:
```bash
npm install
```

3. Разверните приложение на GitHub Pages:
```bash
npm run deploy
```

Этот скрипт выполнит следующие действия:
- Соберет проект с помощью команды `npm run build`
- Создаст ветку `gh-pages` в вашем репозитории
- Загрузит содержимое папки `build` в эту ветку
- Настроит GitHub Pages для использования этой ветки

4. После выполнения команды приложение будет доступно по адресу, указанному в поле `homepage` в файле `package.json`:
```
https://1x5.github.io/compress.1x5code.ru
```

### Настройка GitHub Pages в репозитории

1. Перейдите в настройки вашего репозитория на GitHub
2. Найдите раздел "GitHub Pages"
3. Убедитесь, что выбрана ветка `gh-pages` в качестве источника
4. Опционально: Настройте пользовательский домен, если он у вас есть

## Деплой на другие хостинги

### Статический хостинг

Приложение можно развернуть на любом статическом хостинге:

1. Соберите проект:
```bash
npm run build
```

2. Загрузите содержимое папки `build` в корневую директорию вашего хостинга.

### Настройка пользовательского домена

Если вы хотите использовать собственный домен:

1. Обновите поле `homepage` в файле `package.json`:
```json
"homepage": "https://ваш-домен.ru",
```

2. Соберите проект заново и разверните его:
```bash
npm run build
```

3. Загрузите содержимое папки `build` на ваш хостинг.

4. Настройте DNS-записи вашего домена для указания на сервер хостинга.

## Подготовка проекта

1. Сначала соберите проект локально:

```bash
# Установка зависимостей
npm install

# Сборка проекта
npm run build
```

После выполнения этих команд в директории `build` будут сгенерированы статические файлы приложения.

## Деплой на виртуальный хостинг

### Вариант 1: Через FTP

1. Войдите в панель управления Timeweb Cloud
2. Выберите ваш хостинг
3. Перейдите в раздел "FTP"
4. Используя данные FTP-доступа, загрузите содержимое папки `build` в корневую директорию вашего хостинга (обычно это папка `public_html`)

### Вариант 2: Через панель управления

1. Войдите в панель управления Timeweb Cloud
2. Выберите ваш хостинг
3. Перейдите в разделе "Сайты и домены"
4. Найдите ваш домен и нажмите "Файловый менеджер"
5. Перейдите в корневую директорию (обычно `public_html`)
6. Загрузите все файлы из локальной папки `build` через интерфейс файлового менеджера

### Вариант 3: Через Git

Если у вас включена интеграция с Git в Timeweb Cloud:

1. Добавьте файлы проекта в Git-репозиторий
2. Настройте автоматический деплой с вашего Git-репозитория на хостинг
3. При пуше в выбранную ветку, файлы будут автоматически развернуты на хостинге

## Настройка для Single Page Application (SPA)

Если ваш домен работает через Nginx, можно настроить перенаправление всех запросов на index.html для корректной работы маршрутизации React:

1. Создайте файл `.htaccess` в корне вашего сайта со следующим содержимым:

```
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]
</IfModule>
```

## Проверка деплоя

После загрузки файлов на хостинг, перейдите по адресу вашего сайта в браузере. Вы должны увидеть интерфейс Image Compressor и иметь возможность сжимать изображения.

## Важные замечания

- Приложение работает полностью на стороне клиента, поэтому не требует серверной обработки
- Все изображения обрабатываются локально в браузере пользователя
- SSL-сертификат рекомендуется для обеспечения безопасного соединения 